<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Deloitte Vulnerable Bank</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts: Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    
    <!-- Custom Styles & Configuration for Tailwind -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                    colors: {
                        brand: {
                            'lime': '#A3E635',
                            'lime-dark': '#84CC16',
                            'base': '#111827',
                            'surface': '#1F2937',
                            'muted': '#9CA3AF',
                        },
                    },
                },
            },
        };
    </script>

    <style>
        /* Basic styles for smooth scrolling */
        html {
            scroll-behavior: smooth;
        }
        /* Custom styles for the hero section gradient text */
        .gradient-text {
            background: linear-gradient(to right, #A3E635, #FFFFFF);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        /* Chat Widget Styles */
        .chat-widget-container {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            z-index: 50;
        }
        .chat-window {
            width: 350px;
            height: 500px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.4);
            transition: all 0.3s ease-in-out;
        }
    </style>
</head>
<body class="bg-brand-base text-white font-sans antialiased">

    <!-- Header -->
    <header class="bg-brand-base/80 backdrop-blur-lg sticky top-0 z-40">
        <div class="container mx-auto px-6 py-4 flex justify-between items-center">
            <!-- Logo -->
            <a href="#" class="flex items-center gap-2">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-brand-lime" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v.01" />
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h18M3 14h18m-9-4v8m-7 0h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z" />
                </svg>
                <span class="text-2xl font-bold text-white">Deloitte Vulnerable Bank</span>
            </a>
            <!-- Navigation -->
            <nav class="hidden md:flex items-center gap-6">
                <a href="/api/docs/"  class="text-brand-muted hover:text-white transition-colors">API Docs</a>
            </nav>
            <!-- Action Buttons -->
            <div class="flex items-center gap-4">
                <a href="{{ url_for('login') }}" class="text-brand-muted hover:text-white transition-colors">Sign In</a>
                <a href="{{ url_for('register') }}" class="bg-brand-lime hover:bg-brand-lime-dark text-brand-base font-semibold px-5 py-2 rounded-lg transition-colors">Register</a>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main>
        <!-- Hero Section -->
        <section class="relative py-20 md:py-32 overflow-hidden">
            <div class="absolute inset-0 bg-brand-base opacity-50"></div>
            <div class="container mx-auto px-6 text-center relative z-10">
                <h1 class="text-4xl md:text-6xl lg:text-7xl font-extrabold mb-4">
                    Experience <span class="gradient-text">Intentional Vulnerabilities</span>
                </h1>
                <p class="text-lg md:text-xl text-brand-muted max-w-3xl mx-auto mb-8">
                    An intentionally vulnerable application designed for security professionals and enthusiasts to practice and hone their application security skills.
                </p>
                <div class="flex justify-center gap-4">
                    <a href="{{ url_for('login') }}" class="bg-brand-lime hover:bg-brand-lime-dark text-brand-base font-semibold px-8 py-3 rounded-lg transition-transform transform hover:scale-105">Login</a>
                    <a href="{{ url_for('register') }}" class="bg-brand-surface hover:bg-gray-700 text-white font-semibold px-8 py-3 rounded-lg transition-transform transform hover:scale-105">Register</a>
                </div>
            </div>
        </section>

        <!-- Features Section -->
        <section id="features" class="py-20 bg-brand-surface">
            <div class="container mx-auto px-6">
                <div class="text-center mb-12">
                    <h2 class="text-3xl md:text-4xl font-bold">A Playground for Application Security</h2>
                    <p class="text-lg text-brand-muted mt-2">Explore common web vulnerabilities in a safe, interactive environment.</p>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                    <!-- Feature Card 1 -->
                    <div class="bg-brand-base p-8 rounded-xl border border-gray-700 hover:border-brand-lime transition-colors">
                        <div class="text-brand-lime mb-4">
                            <svg class="h-10 w-10" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 18.657A8 8 0 016.343 7.343S7 9 9 10m0-2.657A8 8 0 0117.657 18.657M12 12a4 4 0 118 0 4 4 0 01-8 0z" /></svg>
                        </div>
                        <h3 class="text-xl font-bold mb-2">Broken Access Control</h3>
                        <p class="text-brand-muted">Attempt to access features and data that should be off-limits. Can you escalate your privileges?</p>
                    </div>
                    <!-- Feature Card 2 -->
                    <div class="bg-brand-base p-8 rounded-xl border border-gray-700 hover:border-brand-lime transition-colors">
                        <div class="text-brand-lime mb-4">
                            <svg class="h-10 w-10" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4" /></svg>
                        </div>
                        <h3 class="text-xl font-bold mb-2">Injection Flaws</h3>
                        <p class="text-brand-muted">Practice various injection attacks, from classic SQLi to modern NoSQL and command injection scenarios.</p>
                    </div>
                    <!-- Feature Card 3 -->
                    <div class="bg-brand-base p-8 rounded-xl border border-gray-700 hover:border-brand-lime transition-colors">
                        <div class="text-brand-lime mb-4">
                             <svg class="h-10 w-10" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" /></svg>
                        </div>
                        <h3 class="text-xl font-bold mb-2">Insecure Design</h3>
                        <p class="text-brand-muted">Identify and exploit logical flaws in the application's design and business logic.</p>
                    </div>
                </div>
            </div>
        </section>
    </main>
    
    <!-- Footer -->
    <footer class="bg-brand-surface border-t border-gray-700">
        <div class="container mx-auto px-6 py-8 text-center text-brand-muted">
            <p>&copy; 2025 Deloitte Vulnerable Bank. For educational purposes only.</p>
        </div>
    </footer>

    <!-- AI Chat Widget -->
    <div id="chatWidget" class="chat-widget-container">
        <!-- Chat Window -->
        <div id="chatWindow" class="chat-window bg-brand-surface rounded-xl flex-col overflow-hidden hidden">
            <!-- Header -->
            <div class="bg-gray-900 p-4 flex justify-between items-center">
                <div class="flex items-center gap-3">
                    <div class="bg-brand-lime p-1 rounded-full"><svg class="h-5 w-5 text-brand-base" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path d="M10 2a6 6 0 00-6 6v3.586l-1.293 1.293a1 1 0 001.414 1.414L6 12.414V15a4 4 0 008 0v-2.586l1.293 1.293a1 1 0 001.414-1.414L14 10.586V8a6 6 0 00-6-6zM10 18a2 2 0 11-4 0 2 2 0 014 0z" /></svg></div>
                    <div>
                        <h3 class="font-semibold">AI Assistant</h3>
                        <p class="text-xs text-brand-lime">Online</p>
                    </div>
                </div>
                <button onclick="toggleChat()" class="text-brand-muted hover:text-white">&times;</button>
            </div>
            <!-- Messages -->
            <div id="chatMessages" class="flex-1 p-4 overflow-y-auto space-y-4">
                <div class="flex gap-2">
                    <div class="bg-brand-lime h-8 w-8 rounded-full flex-shrink-0"></div>
                    <div class="bg-gray-700 p-3 rounded-lg max-w-xs">
                        <p class="text-sm">Hello! How can I assist you today? Feel free to ask about our services.</p>
                    </div>
                </div>
            </div>
            <!-- Input -->
            <div class="p-4 bg-brand-surface border-t border-gray-700">
                <div class="flex gap-2">
                    <input type="text" id="chatInput" placeholder="Type your message..." class="flex-1 bg-brand-base p-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-lime border border-gray-600">
                    <button id="chatSendBtn" class="bg-brand-lime text-brand-base font-bold px-4 rounded-lg hover:bg-brand-lime-dark transition-colors">Send</button>
                </div>
            </div>
        </div>
        <!-- Toggle Button -->
        <button id="chatToggle" onclick="toggleChat()" class="bg-brand-lime hover:bg-brand-lime-dark text-brand-base h-16 w-16 rounded-full flex items-center justify-center shadow-lg transition-transform transform hover:scale-110">
            <svg class="h-8 w-8" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z" /></svg>
        </button>
    </div>

    <script>
        const chatWidget = {
            isOpen: false,
            toggleBtn: document.getElementById('chatToggle'),
            window: document.getElementById('chatWindow'),
            messages: document.getElementById('chatMessages'),
            input: document.getElementById('chatInput'),
            sendBtn: document.getElementById('chatSendBtn'),
        };

        function toggleChat() {
            chatWidget.isOpen = !chatWidget.isOpen;
            if (chatWidget.isOpen) {
                chatWidget.window.classList.remove('hidden');
                chatWidget.window.classList.add('flex');
                chatWidget.toggleBtn.classList.add('hidden');
            } else {
                chatWidget.window.classList.add('hidden');
                chatWidget.window.classList.remove('flex');
                chatWidget.toggleBtn.classList.remove('hidden');
            }
        }

        function addChatMessage(message, isUser = false) {
            const messageEl = document.createElement('div');
            messageEl.className = `flex gap-2 ${isUser ? 'justify-end' : ''}`;
            
            const contentClass = isUser 
                ? 'bg-brand-lime text-brand-base' 
                : 'bg-gray-700 text-white';
            
            const avatarClass = isUser ? 'bg-gray-500' : 'bg-brand-lime';

            messageEl.innerHTML = `
                ${!isUser ? `<div class="${avatarClass} h-8 w-8 rounded-full flex-shrink-0"></div>` : ''}
                <div class="${contentClass} p-3 rounded-lg max-w-xs">
                    <p class="text-sm">${message}</p>
                </div>
                ${isUser ? `<div class="${avatarClass} h-8 w-8 rounded-full flex-shrink-0"></div>` : ''}
            `;
            chatWidget.messages.appendChild(messageEl);
            chatWidget.messages.scrollTop = chatWidget.messages.scrollHeight;
        }

        function handleSendMessage() {
            const message = chatWidget.input.value.trim();
            if (!message) return;

            addChatMessage(message, true);
            chatWidget.input.value = '';

            // Simulate AI response
            setTimeout(() => {
                addChatMessage("Thank you for your message. As a demo assistant, I can provide general information. For account-specific queries, please log in.", false);
            }, 1000);
        }

        chatWidget.sendBtn.addEventListener('click', handleSendMessage);
        chatWidget.input.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                handleSendMessage();
            }
        });
    </script>

</body>
</html>
